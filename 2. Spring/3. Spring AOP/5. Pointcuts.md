**Pointcutlarni aniqlash**
- **Spring AOP**: Advice'larni qo'llash joyini tanlash uchun AspectJ ifoda tilidan foydalanadi.

**Disignator**
`execution([Modifiers] [ReturnType] [FullyQualifiedClassName].[MethodName]([Arguments]) throws [ExceptionType])`

Ifoda maxsus belgilarni (wildcards) kabi `+` va `*` ni o'z ichiga olishi mumkin va bir nechta ifodalarni mantiqiy operatorlar (`&&`, `||`) yordamida birlashtirish mumkin. Masalan:
`execution(pattern) && execution(pattern) || execution(pattern)`

- `+` belgisi metodning maslahat berilishi kerak bo'lgan subklasslarda ham topilishini bildiradi.
- `+` interfeys uchun ishlatilsa, pointcut ifodasi barcha amalga oshiruvchi klasslardagi metodlarga mos keladi.

### Java'da qo'shimcha ma'lumot:
- **Pointcut misoli**: `execution(* com.example.service.*.*(..))` barcha `com.example.service` paketidagi metodlarni aniqlaydi.
- **Wildcards**: `*` har qanday metod nomini, `..` esa har qanday argumentlar ro'yxatini anglatadi.
- **Mantiqiy operatorlar**: `&&` (va), `||` (yoki) bilan bir nechta shartlarni birlashtirish mumkin, masalan, faqat ma'lum paketdagi ma'lum usullarga maslahat berish uchun.

---

**Pointcut misollari**
- Har qanday jamoat metodining ijrosi:
  ```
  execution(public * *(..))
  ```
- "set" bilan boshlanadigan har qanday metodning ijrosi:
  ```
  execution(* set*(..))
  ```
- `AccountService` interfeysi tomonidan aniqlangan har qanday metodning ijrosi:
  ```
  execution(* com.xyz.service.AccountService.*(..))
  ```
- `service` paketida aniqlangan har qanday metodning ijrosi:
  ```
  execution(* com.xyz.service.*.*(..))
  ```
- `service` paketida yoki uning sub-paketlarida aniqlangan har qanday metodning ijrosi:
  ```
  execution(* com.xyz.service..*.*(..))
  ```
- Faqat `service` paketidagi metod ijrosi (Spring AOP uchun):
  ```
  within(com.xyz.service.*)
  ```
- `service` paketida yoki uning sub-paketlaridagi metod ijrosi (Spring AOP uchun):
  ```
  within(com.xyz.service..*)
  ```
- Proxy `AccountService` interfeysi ni amalga oshirsa, metod ijrosi (Spring AOP uchun):
  ```
  this(com.xyz.service.AccountService)
  ```

**Wildcards:**
- `*` — bir marta mos keladi (qaytarish turi, paket, klass, metod nomi, argument).
- `..` — nol yoki undan ko'p marta mos keladi (argumentlar yoki paketlar).

### Java'da qo'shimcha ma'lumot:
- **`execution(public * *(..))`**: Barcha jamoat metodlariga maslahat qo'llaydi, wildcards `*` metod nomi va `..` argumentlar uchun ishlatiladi.
- **`within(com.xyz.service..*)`**: Faqat ma'lum paketdagi klasslarga cheklaydi, sub-paketlarni ham o'z ichiga oladi.
- **`this(com.xyz.service.AccountService)`**: Proxy interfeysni amalga oshirsa, faqat shu interfeysning metodlariga ta'sir qiladi.

---
# Code examples

### 1. Har qanday jamoat metodining ijrosi:
- **Pointcut**: `execution(public * *(..))`
- **Kod misoli**:
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("execution(public * *(..))")
      public void logPublicMethod() {
          System.out.println("Jamoat metodiga kirish loggingi...");
      }
  }

  @Service
  public class MyService {
      public void publicMethod() {
          System.out.println("Jamoat metod ishlamoqda...");
      }
  }
  ```
- **Tushuntirish**: Har qanday `public` metodga kirishda logging qo'shiladi.

### 2. "set" bilan boshlanadigan har qanday metodning ijrosi:
- **Pointcut**: `execution(* set*(..))`
- **Kod misoli**:
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("execution(* set*(..))")
      public void logSetMethod() {
          System.out.println("Set metodiga kirish loggingi...");
      }
  }

  @Service
  public class MyService {
      public void setValue(String value) {
          System.out.println("Qiymat o'rnatildi: " + value);
      }
  }
  ```
- **Tushuntirish**: `setValue` kabi "set" bilan boshlanadigan metodlarga maslahat qo'llaniladi.

### 3. `AccountService` interfeysi tomonidan aniqlangan har qanday metodning ijrosi:
- **Pointcut**: `execution(* com.xyz.service.AccountService.*(..))`
- **Kod misoli**:
  ```java
  public interface AccountService {
      void performAccountAction();
  }

  @Service
  public class AccountServiceImpl implements AccountService {
      public void performAccountAction() {
          System.out.println("Hisob harakati bajarilmoqda...");
      }
  }

  @Aspect
  @Component
  public class LoggingAspect {
      @Before("execution(* com.xyz.service.AccountService.*(..))")
      public void logAccountService() {
          System.out.println("AccountService metodiga kirish loggingi...");
      }
  }
  ```
- **Tushuntirish**: Faqat `AccountService` interfeysini amalga oshiruvchi metodlarga ta'sir qiladi.

### 4. `service` paketida aniqlangan har qanday metodning ijrosi:
- **Pointcut**: `execution(* com.xyz.service.*.*(..))`
- **Kod misoli**:
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("execution(* com.xyz.service.*.*(..))")
      public void logServicePackage() {
          System.out.println("Service paketidagi metodga kirish loggingi...");
      }
  }

  package com.xyz.service;
  @Service
  public class MyService {
      public void doSomething() {
          System.out.println("Harakat bajarilmoqda...");
      }
  }
  ```
- **Tushuntirish**: `com.xyz.service` paketidagi barcha metodlarga maslahat qo'llaniladi.

### 5. `service` paketida yoki uning sub-paketlarida aniqlangan har qanday metodning ijrosi:
- **Pointcut**: `execution(* com.xyz.service..*.*(..))`
- **Kod misoli**:
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("execution(* com.xyz.service..*.*(..))")
      public void logServiceSubpackages() {
          System.out.println("Service yoki sub-paketidagi metodga kirish loggingi...");
      }
  }

  package com.xyz.service.sub;
  @Service
  public class SubService {
      public void subMethod() {
          System.out.println("Sub-paketdagi metod ishlamoqda...");
      }
  }
  ```
- **Tushuntirish**: `..` sub-paketlarni ham o'z ichiga oladi.

### 6. Faqat `service` paketidagi metod ijrosi (Spring AOP uchun):
- **Pointcut**: `within(com.xyz.service.*)`
- **Kod misoli**:
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("within(com.xyz.service.*)")
      public void logWithinService() {
          System.out.println("Service paketidagi metodga kirish loggingi...");
      }
  }

  package com.xyz.service;
  @Service
  public class MyService {
      public void doAction() {
          System.out.println("Harakat bajarilmoqda...");
      }
  }
  ```
- **Tushuntirish**: Faqat `com.xyz.service` paketidagi klasslarga cheklanadi.

### 7. `service` paketida yoki uning sub-paketlaridagi metod ijrosi (Spring AOP uchun):
- **Pointcut**: `within(com.xyz.service..*)`
- **Kod misoli**:
  ```java
  @Aspect
  @Component
  public class LoggingAspect {
      @Before("within(com.xyz.service..*)")
      public void logWithinSubpackages() {
          System.out.println("Service yoki sub-paketidagi metodga kirish loggingi...");
      }
  }

  package com.xyz.service.sub;
  @Service
  public class SubService {
      public void subAction() {
          System.out.println("Sub-paketdagi harakat...");
      }
  }
  ```
- **Tushuntirish**: Sub-paketlarni ham o'z ichiga oladi.

### 8. Proxy `AccountService` interfeysini amalga oshirsa, metod ijrosi (Spring AOP uchun):
- **Pointcut**: `this(com.xyz.service.AccountService)`
- **Kod misoli**:
  ```java
  public interface AccountService {
      void execute();
  }

  @Service
  public class AccountServiceImpl implements AccountService {
      public void execute() {
          System.out.println("Metod ishlamoqda...");
      }
  }

  @Aspect
  @Component
  public class LoggingAspect {
      @Before("this(com.xyz.service.AccountService)")
      public void logThisInterface() {
          System.out.println("AccountService interfeysini amalga oshiruvchi metodga kirish loggingi...");
      }
  }
  ```
- **Tushuntirish**: Faqat `AccountService` interfeysini amalga oshiruvchi proxy ob'ektlarga ta'sir qiladi.

### Umumiy konfiguratsiya:
Har bir misol uchun quyidagi konfiguratsiya kerak:
```java
@Configuration
@ComponentScan("com.xyz")
@EnableAspectJAutoProxy
public class AppConfig {
}
```

### Ishga tushirish:
```java
public class Main {
    public static void main(String[] args) {
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
        MyService myService = context.getBean(MyService.class);
        myService.publicMethod(); // Yoki boshqa mos metod
        context.close();
    }
}
```
